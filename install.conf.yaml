- defaults:
    link:
      relink: true
- clean: 
  - "~"
- create:
  - ~/.local/bin
- link:
    # For aliases lookup
    #~/rc: "."
    ~/.shfunctions.d:
    ~/.aliases:
    ~/.aliases.bash:
    ~/.aliases.d:
    # ack will be replaced with rg
    ~/.ackrc:
    ~/.bashrc:
    ~/.bash_profile:
    ~/.vim:
    ~/.zshrc:
    ~/.zprofile:
    ~/.zlogout:
    ~/.bash_logout.d/seeyouspacecowboy.sh:
      path: seeyouspacecowboy.sh
      create: true
    ~/.gitignore.global:

- shell:
    - command: >
        [ ! -f ~/.vim/autoload/plug.vim ]
        &&
        curl -fLo ~/.vim/autoload/plug.vim --create-dirs https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
        ||
        echo "Plug install skipped, plug.vim already installed."
      description: Install vim plug, if it's not already installed.
      stdout: true
    - command: |
        # TODO: Handle this much better.
        echo "Before running vim, take a look at these installables for using vim-lsp"
        cat lsp_deps.txt
      stdout: true
      quiet: true
    - command: >
        echo -e "You can run `brew bundle -f Brewfile` to install a cloned brewfile, current Brewfiles are: \n$(ls *Brewfile* | awk '{printf("  - %s", $0)}')"
      stdout: true
      quiet: true
    - command: git config --global core.excludesfile ~/.gitignore.global
    - command: |
        while IFS= read -r line; do
          eval "git config --global alias.$line"
        done < <(grep -v '\[alias\]' gitalias | sed "s/'/'\"'\"'/g" | sed 's/ = / '"'"'/g' | sed 's/$/'"'"'/g')
      description: Add all gitaliases line by line, with the snapshot aliases file section, gitalias.
    - command: ./install_bin.sh
      description: Install stand-alone binaries.

